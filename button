 {
        "title": "",              # nagłówek będzie zbudowany przez titleFormatter
        "headerSort": False,
        "hozAlign": "center",
        "width": 160,

        # Rysujemy button w nagłówku
        "titleFormatter": """
            function(cell, formatterParams, onRendered){
              var b = document.createElement('button');
              b.type = 'button';
              b.textContent = 'More details ▼';
              b.className = 'anvil-button';
              b.style.cursor = 'pointer';
              b.style.padding = '4px 8px';
              return b;   // to trafi do nagłówka tej kolumny
            }
        """,

        # Klik w nagłówek tej kolumny
        "headerClick": lambda e, c, target="tabulator_1_part_2": self.toggle_details_header(e, c, target)r,  # -> funkcja niżej
    }


/* 1) Tytuły mogą się zawijać */
.tabulator .tabulator-header .tabulator-col .tabulator-col-title{
  white-space: normal !important;
  word-break: break-word;
  line-height: 1.2;
}

/* 2) Nagłówek układamy pionowo i pozwalamy mu rosnąć */
.tabulator .tabulator-header .tabulator-col .tabulator-col-content{
  display: flex;
  flex-direction: column;       /* tytuł u góry, filter niżej */
  height: auto !important;
  padding-top: 6px;
  padding-bottom: 6px;
}

/* 3) Filtr zawsze przyklejony do dołu komórki nagłówka */
.tabulator .tabulator-header .tabulator-col .tabulator-header-filter{
  order: 99;                    /* na końcu */
  margin-top: auto;             /* dociśnij do dołu */
}

/* 4) Drobiazgi estetyczne */
.tabulator .tabulator-header .tabulator-col .tabulator-header-filter input{
  width: 100%;
  box-sizing: border-box;
}
.tabulator .tabulator-header{ height: auto !important; }  /* gdyby Tabulator trzymał sztywną wysokość */
