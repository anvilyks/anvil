 {
        "title": "",              # nagłówek będzie zbudowany przez titleFormatter
        "headerSort": False,
        "hozAlign": "center",
        "width": 160,

        # Rysujemy button w nagłówku
        "titleFormatter": """
            function(cell, formatterParams, onRendered){
              var b = document.createElement('button');
              b.type = 'button';
              b.textContent = 'More details ▼';
              b.className = 'anvil-button';
              b.style.cursor = 'pointer';
              b.style.padding = '4px 8px';
              return b;   // to trafi do nagłówka tej kolumny
            }
        """,

        # Klik w nagłówek tej kolumny
        "headerClick": lambda e, c, target="tabulator_1_part_2": self.toggle_details_header(e, c, target)r,  # -> funkcja niżej
    }

/* 1) Cała komórka nagłówka jako kolumna */
.tabulator .tabulator-header .tabulator-col{
  display: flex;
  flex-direction: column;
  height: auto !important;     /* pozwól rosnąć, gdy tytuł się zawija */
}

/* 2) Tytuł może się zawijać */
.tabulator .tabulator-header .tabulator-col .tabulator-col-title{
  white-space: normal !important;
  word-break: break-word;
  line-height: 1.2;
}

/* 3) Kontener tytułu + strzałka */
.tabulator .tabulator-header .tabulator-col .tabulator-col-title-holder{
  display: flex;
  align-items: flex-start;      /* strzałka u góry */
}

/* 4) Filtr zawsze przy dolnej krawędzi komórki nagłówka */
.tabulator .tabulator-header .tabulator-col > .tabulator-header-filter{
  margin-top: auto;             /* KLUCZ: dociśnij na dół */
}

/* 5) estetyka pól filtrów */
.tabulator .tabulator-header .tabulator-col > .tabulator-header-filter input,
.tabulator .tabulator-header .tabulator-col > .tabulator-header-filter select{
  width: 100%;
  box-sizing: border-box;
  height: 28px;
}

/* 6) na wszelki wypadek */
.tabulator .tabulator-header{ height:auto !important; }
