function replaceBlobToCustomInPages(project, blobToCustomMap) {
  if (!project?.pages) return;

  console.log("[REPLACE] â–¶ï¸ Start blobâ†’custom replacement in pages");

  for (const page of project.pages) {
    for (const frame of page.frames || []) {
      recurseComponents(frame.component);
    }
  }

  function recurseComponents(component) {
    if (!component || typeof component !== 'object') return;

    // BezpoÅ›redni src (na poziomie komponentu)
    if (component.src && blobToCustomMap[component.src]) {
      console.log("[REPLACE] ğŸ” component.src:", component.src, "â†’", blobToCustomMap[component.src]);
      component.src = blobToCustomMap[component.src];
    }

    // src wewnÄ…trz attributes
    if (component.attributes?.src && blobToCustomMap[component.attributes.src]) {
      console.log("[REPLACE] ğŸ” component.attributes.src:", component.attributes.src, "â†’", blobToCustomMap[component.attributes.src]);
      component.attributes.src = blobToCustomMap[component.attributes.src];
    }

    // Rekurencyjnie komponenty
    if (Array.isArray(component.components)) {
      for (const child of component.components) {
        recurseComponents(child);
      }
    }
  }

  console.log("[REPLACE] âœ… Finished blobâ†’custom replacement");
}
